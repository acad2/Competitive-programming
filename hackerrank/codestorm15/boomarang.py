import sys
arr = [2, 6, 22, 86, 342, 1366, 5462, 21846, 87382, 349526, 1398102, 5592406, 22369622, 89478486, 357913942, 1431655766, 5726623062, 22906492246, 91625968982, 366503875926, 1466015503702, 5864062014806, 23456248059222, 93824992236886, 375299968947542, 1501199875790166, 6004799503160662, 24019198012642646, 96076792050570582, 384307168202282326, 1537228672809129302, 6148914691236517206, 24595658764946068822, 98382635059784275286, 393530540239137101142, 1574122160956548404566, 6296488643826193618262, 25185954575304774473046, 100743818301219097892182]
def find_pos(n):
    i=1
    while(true):
        if n>arr[i] & n<arr[i+1]:
            return i
        i = i+1

t = int(raw_input().strip())
for a0 in xrange(t):
    n = int(raw_input().strip())
    shot_element = n/2 + 1
    fp = find_pos(n)
    expected = n-arr[fp] +1
    if expected >= shot_element:
        max_val = arr[fp+1]-1
        diff = max_val - n
        diff /= 2
        diff *= 3
        if n%2 !=0 :
            answer = max_val - diff
        else:
            answer = max_val - diff -1
    else:
        answer = expected
    print answer